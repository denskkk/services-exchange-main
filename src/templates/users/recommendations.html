{% extends "base.html" %}
{% load static %}

{% block title %}Рекомендовані послуги{% endblock %}

{% block content %}
<section class="mx-auto max-w-7xl">
  <div class="flex items-center justify-between mb-4">
    <h1 class="text-2xl font-semibold">Рекомендовані послуги</h1>
    <a href="{% url 'users:onboarding' %}" class="btn btn-ghost">Оновити анкету</a>
  </div>
  {% if recommended_services %}
    <div class="grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
      {% for service in recommended_services %}
        <div class="p-4 bg-white rounded-xl border border-accent-gray/70 shadow-soft hover:shadow-elevated transition">
          <a href="{% url 'services:detail' service.pk %}">
            {% if service.image %}
              <img src="{{ service.image.url }}" class="w-full h-40 object-cover rounded-lg mb-3" alt="{{ service.title }}">
            {% else %}
              <div class="w-full h-40 bg-gray-100 rounded-lg mb-3"></div>
            {% endif %}
          </a>
          <a href="{% url 'services:detail' service.pk %}" class="text-lg font-semibold text-dark-text hover:text-brand-blue transition-colors line-clamp-2" title="{{ service.title }}">{{ service.title }}</a>
          <div class="mt-1 text-sm text-gray-600">
            <a class="hover:underline" href="{% url 'services:list' %}?category_id={{ service.category.pk }}">{{ service.category.title }}</a>
          </div>
          <div class="mt-2 flex items-center justify-between">
            <div class="text-ink font-semibold">{{ service.price }} ₴</div>
            <div class="text-gray-500 text-sm">за {{ service.term }} дн.</div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-gray-600">Поки що немає рекомендацій. Спробуйте оновити анкету або перегляньте <a class="link" href="{% url 'services:list' %}">усі послуги</a>.</p>
  {% endif %}
</section>
{% endblock %}
